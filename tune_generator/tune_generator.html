<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>02113 Tune Generator</title>
    <link rel="icon" type="image/x-ixon" href="img/favicon.ico">

    <!-- Bootstrap CSS -->
    <script src="js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/tile_generator.css">

</head>
<body>

    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
        <div id="liveToast" class="toast bg-white hide" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="5000">
            <div class="d-flex">
                <div class="toast-body" id="toast_body">
                    <p class="fw-bold m-0 p-0">Toast message!</p>
                </div>
                <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
    </div>

    <div class="container mt-4">

        <div class="container unselectable">
            <p class="h2">02113 Tune Generator</p>
        </div>

        <div class="container unselectable">
            <p  class="mb-2"> Welcome to the 02113 Tune Generator! Here you can quickly generate memory intialization files for the tunes to be used in your game.</p>
            <p>
                <b>Instructions:</b> Write or paste the comma-separated sequence of notes in the Arduino pitches.h format (e.g., NOTE_A4, NOTE_B4, REST, NOTE_C5). 
                Write or paste the comma-separated sequence of durations in ms (e.g., 500, 200, 50, 100) or as a fraction of a second (e.g. 2, 5, 20, 10). Specify the format you use.
                You can have maximum 255 notes in the tune.
                You can copy the generated binary data into the memory initialization file, or direcly download the .mem file.</p>
        </div>

        <hr>

        <div class="container unselectable">
            <p class="h5 pb-2">Notes and durations</p>
        </div>

        <div class="container unselectable">
            <div class="row">
                <div class="col-12">
                    <div class="d-flex justify-content-between m-0 p-0">
                        <p class="h6">Notes (e.g., NOTE_A4, NOTE_B4, REST, NOTE_C5)</p>
                    </div>
                    <textarea class="form-control" aria-label="With textarea" id="notes" rows="5"></textarea>
                    <div class="d-flex justify-content-between mt-3 p-0">
                        <p class="h6">Durations in ms (e.g., 500, 200, 50, 100) or as a fraction (e.g. 2, 5, 20, 10)</p>
                        <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="is_fraction_checkbox">
                        <label class="form-check-label" for="is_fraction_checkbox">
                            Duration as fraction
                        </label>
                        </div>
                    </div>
                    <textarea class="form-control" aria-label="With textarea" id="durations" rows="5"></textarea>
                </div>

            </div>
        </div>

        <hr>





        <div class="container unselectable">
            <p class="h5 pb-2">Test the tune</p>
        </div>

        <div class="container unselectable">
            <div class="row">
                <div class="col-6 border-end">
                    <div class="d-flex flex-column">
                        <button type="button" class="btn btn-primary" id="playButton">Play tune</button>
                        <hr>
                        <button type="button" class="btn btn-danger" id="stopButton">Stop tune</button>                    
                    </div>
                </div>

                <div class="col-6">
                    <div class="d-flex justify-content-between mt-4 p-0">
                        <label for="volumeSlider" class="form-label">Volume</label>
                        <span id="volumeValue">10 %</span>
                    </div>
                    <input type="range" class="form-range" id="volumeSlider" min="0" max="1" step="0.1" value="0.1">
                </div>
            </div>
        </div>

        <hr>

        <div class="container unselectable">
            <p class="h5 pb-2">Memory content</p>
        </div>

        <div class="container unselectable">
            <div class="row">
                <div class="col-9 border-end">
                    <div class="d-flex justify-content-between m-0 p-0">
                        <p class="h6">Raw content</p>
                        <div class="m-0 ps-0 pe-1 pt-0 pb-0" style="cursor:pointer; whitespace:pre-wrap;" id="copy">
                            <small><u>Copy to clipboard</u></small>
                        </div>
                    </div>
                    <textarea class="form-control" aria-label="With textarea" id="memory_content" rows="10"></textarea>
                </div>

                <div class="col-3">
                    <p class="h6">Actions</p>
                    <div class="container p-0">
                        <div class="d-flex flex-column">
                            <div class="input-group mb-2">
                                <input type="text" class="form-control" id="file_name">
                                <span class="input-group-text" id="basic-addon2">.mem</span>
                            </div>
                            <button type="button" class="btn btn-primary" id="download_button">Download .mem file</button>
                            <!--hr>
                            <span class="btn btn-secondary btn-file">
                                Upload .mem file <input type="file" accept=".mem" id="upload_button" onclick="this.value=null;">
                            </span-->
                            <hr>
                            <button type="button" class="btn btn-danger" id="clear_button">Clear all</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <hr>

        <p class="text-center unselectable">Made by Luca - 2025 - v1.0</p>

    </div>

</body>

<script src="js/tune_generator.js"></script>

</html>


